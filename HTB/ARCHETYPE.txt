ARCHETYPE

sudo nmap -A -p- -T4 -v 10.129.73.139 --min-rate=5000 -oN nmap.txt
found 8 open ports with only 4 been relevant
PORT      STATE SERVICE     VERSION
135/tcp   open  msrpc       Microsoft Windows RPC
139/tcp   open  netbios-ssn Microsoft Windows netbios-ssn
445/tcp   open              Windows Server 2019 Standard 17763 microsoft-ds
1433/tcp  open  ms-sql-s    Microsoft SQL Server 2017 14.00.1000.00; RTM

now let's check if any port is vuln using
nmap -sV -p 135,139,445,1433 --script vuln 10.129.73.139

first lets enum for the shares on the smb server using
smbclient -L \\\10.129.73.139
found a non-admin share, backups
found a file that seems like a config file, we will get to it later

after running our script scan, we realize our machine is running windows server 2008 which is vuln to RCE (smb-vuln-ms08-067) with Poc=CVE-2008-4250
smb-vuln-ms08-067

**** i think we found a username and pass in the config file we found earlier
Password=M3g4c0rp123;User ID=ARCHETYPE/sql_svc 

now lets exploit the machine

lt connct to the server database using mssqlclient.py
first install mssqlclient.py
then
./mssqlclient.py ARCHETYPE/sql_svc@10.129.73.139 -windows-auth
provide recently found passwd when asked

we are in